{% extends 'base.html' %}

{% block content %}
    <h1>Create Tasks</h1>
    
    <form action="/tasks/create/" method="POST" class="task-form">
        {% csrf_token %}
        
        {{ form.as_p }}
        
        <button type="submit" class="btn btn-primary">Save</button>
    </form>
    
    {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <div class="alert alert-success">{{ message }}</div>
            {% endfor %}
        </div>
    {% endif %}
    
    <!-- Agregar los archivos CSS y JS del DateRangePicker -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment/min/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    
    <!-- Inicializar el selector de fechas -->
    <script>
        $(function() {
            $('.datepicker').daterangepicker({
                singleDatePicker: true,
                showDropdowns: true,
                autoUpdateInput: false,
                locale: {
                    format: 'YYYY-MM-DD',
                    cancelLabel: 'Clear'
                }
            }, function(start, end, label) {
                $(this.element).val(start.format('YYYY-MM-DD'));
            });
        });
    </script>
{% endblock %}
